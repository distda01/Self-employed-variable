<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Secrets for Business Owners: Turn your K-1 Into a Key to a New Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-section {
            position: relative;
            background-image: url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.85) 0%, rgba(59, 130, 246, 0.85) 100%);
            z-index: 1;
        }
        .hero-content {
            position: relative;
            z-index: 2;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div id="main-content">
        <!-- Hero Section -->
        <header class="hero-section text-white py-20 sm:py-28">
            <div class="hero-overlay"></div>
            <div class="hero-content container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-6">Mortgage Secrets for Business Owners: Turn your K-1 Into a Key to a New Home</h1>
                <p class="max-w-3xl mx-auto text-lg text-blue-100 mb-8">Join home loan expert Dan DiStefano to learn the keys to securing a mortgage when you're self-employed or have variable income. Gain the confidence you need to achieve your homeownership goals.</p>
                <p class="font-semibold text-xl mb-10">Wednesday, August 13th, 2025 | 5:00 PM Central Time</p>
                <a href="https://events.teams.microsoft.com/event/ba778e3b-04af-4df6-8987-de7cb97cc642@c7d2c1c0-4119-4404-bb2c-5db5d2e73374/registration" target="_blank" rel="noopener noreferrer" class="bg-white text-blue-600 font-bold py-3 px-8 rounded-full text-lg hover:bg-gray-100 transform hover:scale-105 transition-transform duration-300 shadow-lg inline-block">
                    Register Now
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-6 py-16">
            
            <!-- Webinar Topics Section -->
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-10">What You'll Learn</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Cards with webinar topics -->
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Defining Self-Employment</h3>
                        <p class="text-gray-600">Understand what qualifies as self-employment, from sole proprietorships and 1099 contractors to partnerships and corporations.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Income Stability & Analysis</h3>
                        <p class="text-gray-600">Discover how lenders assess the stability and financial strength of your business to determine future income potential.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Navigating Variable Income</h3>
                        <p class="text-gray-600">Learn the requirements for using tips, bonuses, commissions, and overtime to qualify for your home loan.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Required Documentation</h3>
                        <p class="text-gray-600">Get a clear list of the documents you'll need, including tax returns, P&L statements, and balance sheets.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Handling Declining Income</h3>
                        <p class="text-gray-600">Find out how lenders view a dip in income and what steps you can take to address potential concerns.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700">Special Considerations</h3>
                        <p class="text-gray-600">Explore special cases, such as being self-employed for over five years, and what that means for you.</p>
                    </div>
                </div>
            </section>

            <!-- Gemini API Feature Section -->
            <section class="bg-white rounded-xl shadow-lg p-8 md:p-12 mb-16 text-center">
                <h2 class="text-3xl font-bold mb-3">Get Prepared Now</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-6">Not sure what documents you need? Describe your work situation below to get a personalized checklist in seconds.</p>
                <div class="max-w-2xl mx-auto">
                    <textarea id="situation-input" class="w-full p-4 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500" rows="3" placeholder="Example: I'm a freelance graphic designer for 3 years, and my spouse has a W-2 job."></textarea>
                    <button id="generate-checklist-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-blue-700 transition-colors duration-300 shadow-lg">
                        âœ¨ Generate My Checklist
                    </button>
                </div>
                <div id="checklist-loader" class="hidden mt-6">
                    <div class="loader"></div>
                    <p class="text-gray-600">Generating your personalized checklist...</p>
                </div>
                <div id="checklist-result" class="hidden mt-8 text-left bg-gray-100 p-6 rounded-lg"></div>
            </section>

            <!-- Host Section -->
            <section class="bg-white rounded-xl shadow-lg p-8 md:p-12 mb-16">
                <div class="flex flex-col md:flex-row items-center">
                    <div class="md:w-1/3 text-center mb-6 md:mb-0">
                        <img src="https://i.imgur.com/QFQTplb.jpeg" alt="Dan DiStefano" class="w-48 h-48 rounded-full mx-auto object-cover shadow-md">
                    </div>
                    <div class="md:w-2/3 md:pl-10">
                        <h2 class="text-3xl font-bold mb-3">About Your Host</h2>
                        <p class="text-2xl font-semibold text-blue-700 mb-2">Daniel DiStefano</p>
                        <p class="text-lg text-gray-600 mb-4">Home Loan Consultant | NMLS #2280243</p>
                        <p class="mb-4">Dan is a dedicated home loan consultant with a passion for helping individuals and families navigate the complexities of the mortgage process. He specializes in assisting self-employed professionals and those with variable income streams, providing clear, actionable advice to turn homeownership dreams into reality.</p>
                        <p class="text-sm text-gray-500">ddistefano@mainstreethl.com | (302) 229-2100</p>
                    </div>
                </div>
            </section>
            
            <!-- Final CTA -->
            <section class="text-center">
                 <h2 class="text-3xl font-bold mb-4">Ready to Secure Your Future?</h2>
                 <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">Don't let a complex income situation stand in the way of your dream home. Reserve your spot today and take the first step towards a confident home-buying journey.</p>
                 <a href="https://events.teams.microsoft.com/event/ba778e3b-04af-4df6-8987-de7cb97cc642@c7d2c1c0-4119-4404-bb2c-5db5d2e73374/registration" target="_blank" rel="noopener noreferrer" class="bg-blue-600 text-white font-bold py-4 px-10 rounded-full text-xl hover:bg-blue-700 transform hover:scale-105 transition-transform duration-300 shadow-lg inline-block">
                    Save My Spot!
                </a>
            </section>

        </main>
    </div>

    <script>
        // --- Gemini API Checklist Generator ---
        const generateBtn = document.getElementById('generate-checklist-btn');
        const situationInput = document.getElementById('situation-input');
        const checklistLoader = document.getElementById('checklist-loader');
        const checklistResult = document.getElementById('checklist-result');

        generateBtn.addEventListener('click', async () => {
            const userInput = situationInput.value;
            if (userInput.trim() === '') {
                checklistResult.innerHTML = '<p class="text-red-500">Please describe your situation first.</p>';
                checklistResult.classList.remove('hidden');
                return;
            }

            checklistLoader.classList.remove('hidden');
            checklistResult.classList.add('hidden');
            generateBtn.disabled = true;

            const prompt = `
You are an expert mortgage consultant. A user is asking for a personalized document checklist to prepare for a mortgage application.

Carefully analyze the user's entire situation described below. Based on all aspects of their situation, create a comprehensive checklist of documents they will likely need. Pull requirements from both the 'Self-Employment/Variable Income' and 'Standard W-2 Employment' context as needed. If the user mentions both types of income, include documents for both. If they only mention one, only include documents for that type.

**Context for Self-Employment / Variable Income:**
- **Sole proprietors / 1099 Contractors:** Typically file a Schedule C with their personal 1040 tax return.
- **Partnerships (25%+ ownership):** File a Form 1065 and provide K-1s to partners.
- **S-Corps (25%+ ownership):** File a Form 1120S and provide K-1s to owners.
- **C-Corps (25%+ ownership):** File a Form 1120.
- **General Self-Employment Docs:** 2 years of personal and business tax returns, a year-to-date Profit & Loss (P&L) statement, and a year-to-date balance sheet. If self-employed for over 5 years, only one year of tax returns might be needed.
- **Variable Income (tips, bonus, commission, overtime):** A 2-year history is usually needed, documented via pay stubs and W2s.

**Context for Standard W-2 Employment:**
- **Paystubs:** Most recent 30 days.
- **W-2 Forms:** Last 2 years.

**User's situation:** "${userInput}"

**Instructions:**
Generate a simple, easy-to-read checklist of documents. Format the output as a Markdown list with checkboxes. Do not add any introductory or concluding sentences, just the list.
For example:
- [ ] 2 years of personal tax returns (Form 1040)
- [ ] 2 years of W-2 forms
- [ ] Most recent 30 days of paystubs
- [ ] 2 years of business tax returns (Schedule C)
            `;

            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyAFzH9jY5rnQtc2-bjvs5kY4bv_sQiWb0U";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    
                    let text = result.candidates[0].content.parts[0].text;
                    // Basic Markdown to HTML conversion for the list
                    text = text.replace(/^- \[ \] /gm, '<li class="flex items-center mb-2"><input type="checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-3" disabled><span>')
                               .replace(/\n/g, '</span></li>');
                    checklistResult.innerHTML = `<h3 class="text-2xl font-bold mb-4 text-center">Your Checklist:</h3><ul class="list-none pl-0">${text}</ul>`;

                } else {
                    throw new Error("Unexpected API response structure.");
                }

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                checklistResult.innerHTML = '<p class="text-red-500">Sorry, we couldn\'t generate your checklist at this time. Please try again later.</p>';
            } finally {
                checklistLoader.classList.add('hidden');
                checklistResult.classList.remove('hidden');
                generateBtn.disabled = false;
            }
        });

    </script>

</body>
</html>
